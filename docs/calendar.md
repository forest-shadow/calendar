# Описание сервиса «Календарь»

Сервис "Календарь" представляет собой упрощенный сервис для хранения событий и отправки уведомлений.

Сервис предполагает возможность:
* добавить/обновить событие;
* получить список событий на день/неделю/месяц;
* настроить уведомление за N дней до события.

Сервис НЕ предполагает:
* разграничения доступа;
* web-интерфейса.

## Верхнеуровневое описание компонентов приложения

#### REST API, Сервис и репозиторий календаря
REST API, Сервис и репозиторий календаря позволяют пользователю управлять своими событиями. Т.к. авторизация не предполагается, то считаем что все пользователи используют только свой идентификатор для взаимодействия с приложением.

####  Планировщик
Планировщик - это фоновый процесс, который не взаимодействует с пользователем и выполняет периодические задания:
* очистка старых (более 1 года назад) событий.

#### Отправитель
Отправитель - это фоновый процесс, занимающийся отправкой уведомлений.
В рамках задания нет необходимости реальной отправки сообщений, достаточно, если рассыльщик просто будет записывать их в лог / выводить в STDOUT.

## Описание сущностей
#### Событие
Событие - основная сущность, содержит в себе поля:
* ID - уникальный идентификатор события (можно воспользоваться UUID);
* Заголовок - короткий текст;
* Дата и время события;
* Дата и время создания события;
* Длительность события (или дата и время окончания);
* Описание события - длинный текст, опционально;
* ID пользователя, владельца события;
* За сколько времени высылать уведомление, опционально.
* Дата фактической отправки события пользователю.

### Описание методов
* Создать (событие);
* Обновить (ID события, событие);
* Удалить (ID события);
* Список (дата начала, дата окончания) - считаем, что периоды больше месяца не выбираются и кол-во событий мало;

### Отправка событий

### Конфигурация, логирование, контейнеризация

Конфигурация приложения может осуществляться через:
- переменные окружения ([рекомендуемый пакет](https://www.google.com/url?sa=t&source=web&rct=j&opi=89978449&url=https://github.com/caarlos0/env&ved=2ahUKEwi8kvjbp-6FAxVYVEEAHQQqBRUQFnoECB0QAQ&usg=AOvVaw2S2YSGXr0YszzsDrdMff5o))
- файлы конфигурации в формате yaml ([рекомендуемый пакет](https://www.google.com/url?sa=t&source=web&rct=j&opi=89978449&url=https://github.com/ilyakaznacheev/cleanenv&ved=2ahUKEwiS0LGBqO6FAxXjSEEAHZjbAbkQFnoECBUQAQ&usg=AOvVaw2r4uMQup0cmCplFiUUPtS7))

Логи пишутся в stdout одним из структурированных логгеров. Рекомендуемые логгеры:
- [slog](https://www.google.com/url?sa=t&source=web&rct=j&opi=89978449&url=https://pkg.go.dev/golang.org/x/exp/slog&ved=2ahUKEwiPmYWZqO6FAxXnUUEAHbKrDV0QFnoECBYQAQ&usg=AOvVaw06XYe1clR_pXL39B0gg5Gp)
- [zap](https://www.google.com/url?sa=t&source=web&rct=j&opi=89978449&url=https://github.com/uber-go/zap&ved=2ahUKEwi345yiqO6FAxVPSkEAHQnWAEQQFnoECBYQAQ&usg=AOvVaw0NJVImMvaa2hetKIx-GC7m)
Проект должен запускаться командой `docker-compose up`.
